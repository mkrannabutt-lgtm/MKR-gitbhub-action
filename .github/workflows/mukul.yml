name: Rannabutt Workflows

on:
  push:
    branches:
      - main
      - 'releases/**'

jobs:
  My_first_workflows:
    name: my first job
    runs-on: self-hosted
    steps:
      - name: Jai IT wale baba ki
        env:
          My_VAR: "Hi there! My name is."
          First_Name: MK
          Message: "I love AI"
        run: |
          echo $My_VAR $First_Name $Message

  My_Second_Workflow:
    name: Terraform basic command
    runs-on: self-hosted
    steps:
      - name: Terraform fmt
        id: fmt
        run: terraform fmt -check
        continue-on-error: true

      - name: Terraform Init
        id: init
        run: terraform init -input=false

      - name: Terraform Validate
        id: validate
        run: terraform validate -no-color
        
      - name: Terraform Plan
        id: Plan
        run: terraform plan  - no-color -input=false
        continue-on-error: true
        
      - name: Azure login
        uses: azure/login@v2
        with:
          auth-type: IDENTITY
          tenant-id: ${{ e0eb0b0e-a455-477c-b0e8-56b7f7f4efb4 }}
          subscription-id: ${{ 177b7e12-5f03-4f63-bcd1-ed6d1d776bff }}
          enable-AzPSSession: true
        

    
